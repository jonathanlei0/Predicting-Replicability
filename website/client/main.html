<template name="MainLayout">

  <head>
    <title>Predicting Replicability</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- CSS only -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
    <!-- JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  </head>

  <body class="bg-light" id="body">
    <div class="container">
      <div class="row">
        <div class="col-sm py-5">
          <div class="card">
            <div class="p-5">
              {{>yield}}
            </div>
          </div>
        </div>
      </div>
    </div>
    <div style="position: absolute; display: none;" id="highlightBox" class="bg-light border border-dark p-3">
      <a href="javascript:highlight();" class="btn btn-lg btn-warning">
        Toggle Highlight
      </a>
      <a href="javascript:highlightClosePopup();" class="btn btn-lg btn-outline-danger">
        X
      </a>
    </div>
    
    <script>

      function randomstring(length) {
        var result = "";
        var characters =
          "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
        var charactersLength = characters.length;
        for (var i = 0; i < length; i++) {
          result += characters.charAt(
            Math.floor(Math.random() * charactersLength)
          );
        }
        return result;
      }

      const elements = document.querySelectorAll('.sentence');
        Array.from(elements).forEach((element, index) => {
          element.addEventListener("click", function( event ) {
            
            if(document.getElementById("selectedSentence")!=null){
              document.getElementById("selectedSentence").id="";
            }
            document.getElementById("highlightBox").style.top = event.pageY + "px";
            document.getElementById("highlightBox").style.left =event.pageX + "px";
            element.id="selectedSentence";
            document.getElementById("highlightBox").style.display = "block";
          }, false);

          element.addEventListener("mouseover", function( event ) {
            
            if(document.getElementById("hoverSentence")!=null){
              document.getElementById("hoverSentence").id="";
            }
            element.id="hoverSentence";
          }, false);

      });

      function highlight(){
        if(document.getElementById("selectedSentence").className.includes("highlightedSentence")){
          document.getElementById("selectedSentence").className="sentence";
          document.getElementById("highlightBox").style.display = "none";
          document.getElementById("selectedSentence").id="";
        }else{
          document.getElementById("selectedSentence").className="highlightedSentence sentence";
          document.getElementById("highlightBox").style.display = "none";
          document.getElementById("selectedSentence").id="";
        }
        
      }

      function highlightClosePopup(){
        document.getElementById("highlightBox").style.display = "none";
        document.getElementById("selectedSentence").id="";
      }
    </script>
  </body>
</template>